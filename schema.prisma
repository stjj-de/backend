// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url      = env("DATABASE_URL")
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id       String  @id @default(cuid())
  username String  @unique @default("")
  forename String  @default("")
  password String?
  isAdmin  Boolean @default(false)
}

model Person {
  id                             String              @id @default(cuid())
  displayName                    String              @default("")
  priority                       Int?                @default(1)
  image_filesize                 Int?
  image_extension                String?
  image_width                    Int?
  image_height                   Int?
  image_mode                     String?
  image_id                       String?
  role                           String              @default("")
  telephoneNumber                String              @default("")
  emailAddress                   String              @default("")
  from_Post_authors              Post[]              @relation("Post_authors")
  from_SettingsSingleton_pastors SettingsSingleton[] @relation("SettingsSingleton_pastors")

  @@index([priority])
}

model Church {
  id                            String              @id @default(cuid())
  name                          String              @default("")
  location                      String              @default("")
  description                   String              @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  image_filesize                Int?
  image_extension               String?
  image_width                   Int?
  image_height                  Int?
  image_mode                    String?
  image_id                      String?
  from_ChurchServiceDate_church ChurchServiceDate[] @relation("ChurchServiceDate_church")
}

model ChurchServiceDate {
  id                String   @id @default(cuid())
  shortDescription  String   @default("")
  longDescription   String   @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  date              DateTime
  livestreamPlanned Boolean  @default(false)
  church            Church?  @relation("ChurchServiceDate_church", fields: [churchId], references: [id])
  churchId          String?  @map("church")

  @@index([churchId])
}

model Link {
  id                                   String              @id @default(cuid())
  url                                  String              @default("")
  text                                 String              @default("")
  emoji                                String              @default("")
  priority                             Int                 @default(1)
  from_SettingsSingleton_homePageLinks SettingsSingleton[] @relation("SettingsSingleton_homePageLinks")
  from_SettingsSingleton_footerLinks   SettingsSingleton[] @relation("SettingsSingleton_footerLinks")
}

model CustomPage {
  id      String @id @default(cuid())
  title   String @default("")
  slug    String @unique @default("")
  content String @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
}

model Post {
  id              String    @id @default(cuid())
  title           String    @default("")
  publicationDate DateTime?
  slug            String    @unique @default("")
  authors         Person[]  @relation("Post_authors")
  featured        Boolean   @default(false)
  content         String    @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
}

model Video {
  id              String   @id @default(cuid())
  title           String   @default("")
  youtubeVideoId  String   @default("")
  publicationDate DateTime
  description     String   @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
}

model SettingsSingleton {
  id                       String   @id @default(cuid())
  livestreamVideoId        String   @default("")
  parishBulletin_filesize  Int?
  parishBulletin_mode      String?
  parishBulletin_filename  String?
  acolyteSchedule_filesize Int?
  acolyteSchedule_mode     String?
  acolyteSchedule_filename String?
  pastors                  Person[] @relation("SettingsSingleton_pastors")
  homePageLinks            Link[]   @relation("SettingsSingleton_homePageLinks")
  footerLinks              Link[]   @relation("SettingsSingleton_footerLinks")
  officeSectionContent     String   @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  mediaLibraryPageContent  String   @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
}

model Picture {
  id             String  @id @default(cuid())
  file_filesize  Int?
  file_extension String?
  file_width     Int?
  file_height    Int?
  file_mode      String?
  file_id        String?
  altText        String  @default("")
}